// Place your key bindings in this file to override the defaults
[
    // toggle Vim extension
    {
        "key": "ctrl+a cmd+v",
        "command": "toggleVim",
        "when": "editorTextFocus"
    },
    // vim setting
    // ctrl+h/l to left/right side in split view
    {
        "key": "ctrl+h",
        "command": "workbench.action.focusLeftGroup",
        "when": "editorTextFocus && vim.active"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.focusRightGroup",
        "when": "editorTextFocus && vim.active"
    },
    // ctrl+h/l to left and right in compare view
    // refernece issue: https://github.com/microsoft/vscode/issues/95068
    {
        "key": "ctrl+h",
        "command": "workbench.action.compareEditor.focusSecondarySide",
        "when": "textCompareEditorVisible"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.compareEditor.focusPrimarySide",
        "when": "textCompareEditorVisible"
    },
    // use tab to select the next suggestion
    {
        "key": "tab",
        "command": "acceptSelectedSuggestion",
        "when": "suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "shift+tab",
        "command": "acceptSelectedSuggestion",
        "when": "suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "tab",
        "command": "selectNextSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    {
        "key": "shift+tab",
        "command": "selectPrevSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    // ctrl+a hotkeys
    // ctrl+a h to switch focus between sidebar and editor
    // h and l are used in vim, h for left and l for right
    {
        "key": "ctrl+a h",
        "command": "workbench.action.focusSideBar",
        "when": "editorTextFocus && vim.active"
    },
    {
        "key": "ctrl+a h",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "sideBarFocus && vim.active"
    },
    {
        "key": "ctrl+a l",
        "command": "workbench.action.focusSideBar",
        "when": "editorTextFocus && vim.active"
    },
    {
        "key": "ctrl+a l",
        "command": "workbench.action.focusActiveEditorGroup",
        "when": "sideBarFocus && vim.active"
    },
    // ctrl+a c to compare file
    {
        "key": "ctrl+a c",
        "command": "workbench.files.action.compareFileWith",
        "when": "editorTextFocus"
    },
    // ctrl+a e to focus file-explorer, e means file-explorer
    {
        "key": "ctrl+a e",
        "command": "workbench.files.action.focusFilesExplorer",
        "when": "textInputFocus || sideBarFocus"
    },
    // ctrl+a t to focus terminal, t means terminal
    {
        "key": "ctrl+a t",
        "command": "workbench.action.terminal.focus",
        "when": "!terminalFocus"
    },
    // ctrl+a p to show preview
    // markdown preview
    {
        "key": "ctrl+a p",
        "command": "runCommands",
        "args": {
            "commands": [
                "markdown.showPreviewToSide",
                "workbench.action.focusPreviousGroup"
            ]
        },
        "when": "editorTextFocus && editorLangId == 'markdown'"
    },
    // latex preview
    {
        "key": "ctrl+a p",
        "command": "runCommands",
        "args": {
            "commands": [
                "latex-workshop.build",
                "latex-workshop.view",
                "workbench.action.focusPreviousGroup"
            ]
        },
        "when": "editorTextFocus && editorLangId == 'latex'"
    },
    {
        "key": "ctrl+a x",
        "command": "workbench.action.closeEditorsInOtherGroups",
        "when": "editorTextFocus"
    },
    // press cmd + shift + F, enter to go to input, then j and k could be used to focus up and down. 
    {
        "key": "enter",
        "command": "search.focus.nextInputBox",
        "when": "(inSearchEditor && inputBoxFocus) || (inputBoxFocus && searchViewletVisible)"
    },
    // unbind renameFile command and using enter to open file
    {
        "key": "enter",
        "command": "-renameFile",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    {
        "key": "enter",
        "command": "list.select",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    {
        "key": "r",
        "command": "renameFile",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    // cmd+enter to open file to the side
    {
        "key": "cmd+enter",
        "command": "explorer.openToSide",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    // use cmd+e(explorer) to toggle SideBar
    {
        "key": "cmd+e",
        "command": "workbench.view.explorer"
    },
    {
        "key": "cmd+e",
        "command": "-workbench.view.explorer"
    },
    {
        "key": "cmd+e",
        "command": "workbench.action.toggleSidebarVisibility",
        "when": "explorerViewletVisible"
    },
    {
        "key": "cmd+e",
        "command": "-workbench.action.toggleSidebarVisibility",
        "when": "explorerViewletVisible"
    },
    // cmd + j/k to select next/previous item in quick open(cmd + p)
    {
        "key": "cmd+j",
        "command": "workbench.action.quickOpenSelectNext",
        "when": "inQuickOpen"
    },
    {
        "key": "ctrl+n",
        "command": "-workbench.action.quickOpenSelectNext",
        "when": "inQuickOpen"
    },
    {
        "key": "cmd+k",
        "command": "workbench.action.quickOpenSelectPrevious",
        "when": "inQuickOpen"
    },
    {
        "key": "ctrl+p",
        "command": "-workbench.action.quickOpenSelectPrevious",
        "when": "inQuickOpen"
    },
    {
        "key": "cmd+j",
        "command": "workbench.action.nextSideBarView",
        "when": "sideBarFocus && vim.active"
    },
    {
        "key": "cmd+k",
        "command": "workbench.action.previousSideBarView",
        "when": "sideBarFocus && vim.active"
    },
    {
        "key": "cmd+j",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.togglePanel",
                "workbench.action.terminal.focus"
            ]
        },
        "when": "!panelFocus && !inQuickOpen && !sideBarFocus"
    },
    {
        "key": "cmd+j",
        "command": "-workbench.action.togglePanel",
        "when": "panelFocus"
    },
    {
        "key": "cmd+l",
        "command": "workbench.action.nextPanelView",
        "when": "panelFocus"
    },
    {
        "key": "cmd+h",
        "command": "workbench.action.previousPanelView",
        "when": "panelFocus"
    }
]

